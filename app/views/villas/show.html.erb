<div class="map-banner">
  <%= image_tag "map.png" %>
</div>
<%# to be replaced with real map %>


<div class="container">
  <div class="row">

    <div class="col-8">
      <div class="villa-box">
        <h1 class="top-title"><%= @villa.name %></h1>

        <div class="villa-infos">
          <i class="fa-solid fa-people-group"></i>
          <p class="no-margin"><%= @villa.guests_number %></p>
          <i class="fa-solid fa-euro-sign"></i>
          <p class="no-margin"><%= @villa.price_per_night %>/night</p>
          <i class="fa-solid fa-location-dot"></i>
          <p><%= @villa.address %></p>
        </div>

        <p><%= @villa.description %></p>

        <div class="villa-pics">
          <%= cl_image_tag @villa.photo.key %>
        </div>

        <%= link_to "Back to explore", root_path, class:"my-btn sec" %>
      </div>
    </div>


    <div class="col-4">
      <div class="my-form booking" data-controller="booking-cost" >
        <h3 class="mb-4">Book this villa</h1>
        <%= simple_form_for [@villa, @booking]  do |f| %>
          <%= f.input :start_date, data: {booking_cost_target: "startDate"} %>
          <%= f.input :end_date, input_html: { data: { action: "click->booking-cost#updateFields" } }%>

          <div class="d-flex justify-content-between mt-5">
            <p>Price per night:</p>
            <p><strong><%= @villa.price_per_night %>â‚¬</strong></p>
          </div>

          <div class="d-flex justify-content-between">
            <p>Number of nights:</p>
            <p data-booking-cost-target="nightsNumber"><strong>???</strong></p>
          </div>

          <hr>

          <div class="d-flex justify-content-between mb-3">
            <p><strong>Total price:</strong></p>
            <p data-booking-cost-target="totalPrice" ><strong>!!!</strong></p>
          </div>

          <%= f.submit "Book", class: "my-btn prim" %>
        <% end %>

      </div>
    </div>

  </div>




</div>
