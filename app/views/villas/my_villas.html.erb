<div class="container">


  <h1 class="top-title">My villas</h1>

  <%# REFACTO
  most of this code is the same than index %>

  <div class="row">
    <% @villas.each do |villa| %>
      <div class="col-4 col-lg-4">

        <%# villa card %>
        <div class="villa-card">
          <%# picture %>
          <% if villa.photo.attached? %>
            <%= cl_image_tag villa.photo.key, class:"villa-pic" %>
          <% end %>

          <%# is the if needed? don't we require an image? %>


          <%# general info %>
          <div class="general-info">
            <h3><%= villa.name %></h3>
            <p><%= villa.address %></p>
            <p><%= villa.movie_genre %> | Inspired by <%= villa.inspired_by%></p>


            <div class="guest-price">
              <i class="fa-solid fa-people-group"></i>
              <p><%= villa.guests_number %></p>
              <i class="fa-solid fa-euro-sign"></i>
              <p><%= villa.price_per_night %></p>
            </div>

          </div>


          <%# action buttons %>
          <div class="action-buttons">
            <%= link_to "View", villa_path(villa) %>
            <%= link_to "Edit", edit_villa_path(villa) %>
            <%= link_to "Delete", villa_path(villa), data: {turbo_method: :delete, turbo_confirm: "Are you sure? Any existing bookings will be deleted as well!"} %>
          </div>



        </div>
      </div>
    <% end %>

    <div class="col-4">
      <%= link_to new_villa_path, class:"new-villa" do %>
        <h4>+</h4>
      <% end %>
    </div>

  </div>
</div>
